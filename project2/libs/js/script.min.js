$(window).on("load",function(){$("#preloader").length&&$("#preloader").delay(100).fadeOut("slow",function(){$(this).remove()}),window.localStorage.getItem("focus_on")&&$(window.localStorage.getItem("focus_on")).focus()}),$(document).ready(function(){const e=["#00cc00","#6600ff","#e600e6","#ff0000"];let t,o,a,l;$.ajax({type:"POST",url:"libs/php/getAll.php",dataType:"json",success:function(n){$("#directoryData").html(""),alphabetArray=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$.each(alphabetArray,function(s){t='<div class="row">'+`<div class="col-sm-6 alignmentRight" id="horizontal${s}">${alphabetArray[s]}</div>`+"</div>",$("#verticalAlphabet").append(`<a href="#horizontal${s}" class="vertical"><div class="col-sm-6">${alphabetArray[s]}</div></a>`),o=$("#directoryData").append(t),$.each(n.data,function(t){let d=n.data[t].lastName[0].toUpperCase();d===alphabetArray[s]&&(a='<div class="row"><div class="col-sm-6"></div><div class="col-sm-2">'+`<div id="square${t}" class="square"></div>`+'</div><div class="col-sm-4 namePosition">'+`<a id="nameLink${t}" class="nameLink" href="#employeeHeading" data-bs-toggle="modal" data-bs-target="#employeeModal">${n.data[t].lastName}`+" "+`${n.data[t].firstName}</a>`,o.append(a),l=$(`#square${t}`),t%4==0?l.css("background-color",e[0]):t%4==1?l.css("background-color",e[1]):t%4==2?l.css("background-color",e[2]):t%4==3&&l.css("background-color",e[3]),$(`#nameLink${t}`).on("click",function(){$("#employeeHeading").empty(),$("#employeeHeading").append($(`#nameLink${t}`).text()),$("#txtFirstName").html(n.data[t].firstName),$("#txtLastName").html(n.data[t].lastName),$("#txtJobTitle").html(n.data[t].jobTitle),$("#txtEmail").html(n.data[t].email),$("#txtDept").html(n.data[t].department),$("#txtLocation").html(n.data[t].location),setTimeout(function(){$("#employeeModal").modal("show")},1e3),$("#edit").on("click",function(){let e,o;$("#employeeModal").modal("hide"),$("#editHeading").empty(),$("#editHeading").append("Edit employee"),$("#txtEditFirstName").val(n.data[t].firstName),$("#txtEditLastName").val(n.data[t].lastName),$("#txtEditJobTitle").val(n.data[t].jobTitle),$("#txtEditEmail").val(n.data[t].email),$.ajax({type:"POST",url:"libs/php/getDepartmentID.php",dataType:"json",data:{employeeDept:n.data[t].department},success:function(a){e=a.data[t].id,$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(t){$(".deptEditSelectList").html(""),$.each(t.data,function(o){$("#txtEditDept").val(e),$(".deptEditSelectList").append($("<option>",{value:t.data[o].id,text:t.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptEditSelectList").on("change",function(){let e=$(this).val();e&&$.ajax({type:"POST",url:"libs/php/getLocationID.php",dataType:"json",data:{employeeDeptID:e},success:function(e){o=e.data[t].locationID,$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locEditSelectList").html(""),$.each(e.data,function(t){$("#txtEditLoc").val(o),$(".locEditSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#editEmployeeModal").modal("show")},1e3),$("#editCancel").on("click",function(){location.reload(),$("#editEmployeeModal").modal("hide")})}),$("#editForm").submit(function(e){e.preventDefault(),$("#editEmployeeModal").modal("hide"),null===$("#editDept").val()?($("#editErrorMessage").html(""),$("#editErrorMessage").append("Please select a department."),setTimeout(function(){$("#editErrorModal").modal("show")},1e3)):setTimeout(function(){$("#editConfirmModal").modal("show")},1e3)}),$("#editConfirmCancel").on("click",function(){location.reload(),$("#editConfirmModal").modal("hide")}),$("#editConfirmForm").submit(function(e){e.preventDefault(),$("#editConfirmModal").modal("hide");let o=$("#txtEditFirstName").val();""!==o&&(o=o[0].toUpperCase()+o.substring(1,o.length));let a=$("#txtEditLastName").val();""!==a&&(a=a[0].toUpperCase()+a.substring(1,a.length));let l=$("#txtEditJobTitle").val();""!==l&&(l=l[0].toUpperCase()+l.substring(1,l.length)),$.ajax({url:"libs/php/editEmployee.php",method:"post",dataType:"text",data:{id:n.data[t].id,firstName:o,lastName:a,jobTitle:l,email:$("#txtEditEmail").val(),dept:$("#txtEditDept").val()},success:function(e){$("#editMessage").html(""),$("#editMessage").append(e),setTimeout(function(){$("#editSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#delete").on("click",function(){$("#employeeModal").modal("hide"),setTimeout(function(){$("#deleteButtonConfirmModal").modal("show")},1e3)}),$("#deleteButtonConfirmForm").submit(function(e){e.preventDefault(),$("#deleteButtonConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/deleteEmployee.php",dataType:"text",data:{lastName:n.data[t].lastName},success:function(e){$("#deleteButtonMessage").html(""),$("#deleteButtonMessage").append(e),setTimeout(function(){$("#deleteButtonSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#deleteButtonConfirmCancel").on("click",function(){location.reload(),$("#deleteButtonConfirmModal").modal("hide")})}))})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$("#plus").on("click",function(){$("#createHeading").empty(),$("#createHeading").append("Create employee"),$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(e){$(".deptSelectList").html(""),$(".deptSelectList").append("<option selected disabled>Select department</option>"),$.each(e.data,function(t){$(".deptSelectList").append($("<option>",{value:e.data[t].locationID,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locSelectList").html(""),$(".locSelectList").append('<option selected disabled value="">Select location</option>'),$.each(e.data,function(t){$(".locSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptSelectList").change(function(){$(".locSelectList option[value="+$(this).val()+"]").prop("selected","selected")}),$(".locSelectList").change(function(){$(".deptSelectList option[value="+$(this).val()+"]").prop("selected","selected")}),setTimeout(function(){$("#createModal").modal("show")},1e3)}),$("#createCancel").on("click",function(){location.reload(),$("#createModal").modal("hide")}),$("#createForm").submit(function(e){e.preventDefault(),$("#createModal").modal("hide"),null===$("#createDept").val()?($("#createErrorMessage").html(""),$("#createErrorMessage").append("Please select a department."),setTimeout(function(){$("#createErrorModal").modal("show")},1e3)):setTimeout(function(){$("#createConfirmModal").modal("show")},1e3)}),$("#createConfirmForm").submit(function(e){e.preventDefault(),$("#createConfirmModal").modal("hide");let t=$("#createFirstName").val();""!==t&&(t=t[0].toUpperCase()+t.substring(1,t.length));let o=$("#createLastName").val();""!==o&&(o=o[0].toUpperCase()+o.substring(1,o.length));let a=$("#createJobTitle").val();""!==a&&(a=a[0].toUpperCase()+a.substring(1,a.length)),$.ajax({url:"libs/php/createEmployee.php",method:"post",dataType:"text",data:{firstName:t,lastName:o,jobTitle:a,email:$("#createEmail").val(),dept:$("#createDept").val()},success:function(e){$("#createMessage").html(""),$("#createMessage").append(e),setTimeout(function(){$("#createSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#createCancel").on("click",function(){location.reload(),$("#createModal").modal("hide")}),$("#createConfirmCancel").on("click",function(){location.reload(),$("#createConfirmModal").modal("hide")}),$("#editButton").on("click",function(){const e=["#00cc00","#6600ff","#e600e6","#ff0000"];$.ajax({type:"POST",url:"libs/php/getAllPersonnel.php",dataType:"json",success:function(t){$("#deleteData").html(""),deleteAlphabetArray=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$.each(deleteAlphabetArray,function(o){let a='<div class="row">'+`<div class="col-sm-1 alignmentRight" id="delete${o}">${deleteAlphabetArray[o]}</div>`+"</div>";$("#deleteAlphabet").append(`<a href="#delete${o}" class="vertical"><div class="col-sm-1">${deleteAlphabetArray[o]}</div></a>`);let l=$("#deleteData").append(a);$.each(t.data,function(a){let n=t.data[a].lastName[0].toUpperCase();if(n===deleteAlphabetArray[o]){let o='<div class="row"><div class="col-sm-2"></div><div class="col-sm-2">'+`<div id="deleteSquare${a}" class="square"></div>`+'</div><div class="col-sm-6 namePosition">'+`<div id="nameLink${a}" class="nameLink" href="#">${t.data[a].lastName}`+" "+`${t.data[a].firstName}</div>`+'</div><div class="col-sm-1"><form action="">'+`<input\n                        type="checkbox"\n                        class="deleteCheckbox"\n                        id="checkList"\n                        name="checkList"\n                        value="${t.data[a].id}"\n                      />`+"</form></div></div>";l.append(o);let n=$(`#deleteSquare${a}`);a%4==0?n.css("background-color",e[0]):a%4==1?n.css("background-color",e[1]):a%4==2?n.css("background-color",e[2]):a%4==3&&n.css("background-color",e[3])}});let n=!1;$("#selectAll").on("click",function(){$(".deleteCheckbox").prop("checked",!n),n=!n,this.innerHTML=n?"Deselect":"Select",$("#selected").html("");let e=$("input:checked").length;$("#selected").append(e+" selected"),e>0?$("#deleteButton").css("color","#000"):$("#deleteButton").css("color","#fff")}),$(".deleteCheckbox").on("click",function(){$("#selected").html("");let e=$("input:checked").length;$("#selected").append(e+" selected"),e>0?$("#deleteButton").css("color","#000"):$("#deleteButton").css("color","#fff")})}),setTimeout(function(){$("#deleteModal").modal("show")},1e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#deleteCancel").on("click",function(){location.reload(),$("#deleteModal").modal("hide")}),$("#deleteForm").submit(function(e){e.preventDefault(),$("#deleteModal").modal("hide"),setTimeout(function(){$("#deleteConfirmModal").modal("show")},1e3)}),$("#deleteConfirmForm").submit(function(e){e.preventDefault(),$("#deleteConfirmModal").modal("hide");let t=[];$("input:checked").each(function(){t.push($(this).val())}),$.ajax({type:"POST",url:"libs/php/deleteEmployeeCheckList.php",dataType:"text",data:{checkList:t},success:function(e){console.log(e),$("#deleteMessage").html(""),$("#deleteMessage").append(e),console.log(e),setTimeout(function(){$("#deleteSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$("#selected").html("")}),$("#deleteConfirmCancel").on("click",function(){location.reload(),$("#deleteConfirmModal").modal("hide")}),$("#deleteSearchBar").keyup(function(){let t=$(this).val();$.ajax({url:"libs/php/deleteSearchBar.php",method:"POST",dataType:"json",data:{query:t},success:function(o){$("#deleteData").html(""),$.each(o.data,function(a){if(""!=t){let t='<div class="row"><div class="col-sm-2"></div><div class="col-sm-2">'+`<div id="deleteSearchSquare${a}" class="square"></div>`+'</div><div class="col-sm-6 namePosition">'+`<div id="nameLink${a}" class="nameLink" href="#">${o.data[a].lastName}`+" "+`${o.data[a].firstName}</div>`+'</div><div class="col-sm-1"><form action="">'+`<input\n                        type="checkbox"\n                        class="deleteCheckbox"\n                        id="checkList"\n                        name="checkList"\n                        value="${o.data[a].id}"\n                      />`+"</form></div></div>";$("#deleteData").append(t),$("#deleteAlphabet").hide();let l=$(`#deleteSearchSquare${a}`);a%4==0?l.css("background-color",e[0]):a%4==1?l.css("background-color",e[1]):a%4==2?l.css("background-color",e[2]):a%4==3&&l.css("background-color",e[3]);let n=!1;$("#selectAll").on("click",function(){$(".deleteCheckbox").prop("checked",!n),n=!n,this.innerHTML=n?"Deselect":"Select",$("#selected").html("");let e=$("input:checked").length;$("#selected").append(e+" selected"),e>0?$("#deleteButton").css("color","#000"):$("#deleteButton").css("color","#fff")}),$(".deleteCheckbox").on("click",function(){$("#selected").html("");let e=$("input:checked").length;$("#selected").append(e+" selected"),e>0?$("#deleteButton").css("color","#000"):$("#deleteButton").css("color","#fff")}),setTimeout(function(){$("#deleteModal").modal("show")},1e3),$("#deleteCancel").on("click",function(){location.reload(),$("#deleteModal").modal("hide")})}else window.localStorage.setItem("focus_on","#deleteSearchBar"),location.reload();$("#deleteForm").submit(function(e){e.preventDefault(),$("#deleteModal").modal("hide"),setTimeout(function(){$("#deleteConfirmModal").modal("show")},1e3)}),$("#deleteConfirmForm").submit(function(e){e.preventDefault(),$("#deleteConfirmModal").modal("hide");let t=[];$("input:checked").each(function(){t.push($(this).val())}),$.ajax({type:"POST",url:"libs/php/deleteEmployeeCheckList.php",dataType:"text",data:{checkList:t},success:function(e){$("#deleteMessage").html(""),$("#deleteMessage").append(e),setTimeout(function(){$("#deleteSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}}),$("#selected").html("")}),$("#deleteConfirmCancel").on("click",function(){location.reload(),$("#deleteConfirmModal").modal("hide")})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#searchBar").keyup(function(){let t=$(this).val();$.ajax({url:"libs/php/searchBar.php",method:"POST",dataType:"json",data:{query:t},success:function(o){$("#directoryData").html(""),$.each(o.data,function(a){if(""!=t){let t='<div class="row"><div class="col-sm-4"></div><div class="col-sm-1">'+`<div id="searchSquare${a}" class="square"></div>`+'</div><div class="col-sm-4 namePosition">'+`<a id="nameLinkSearch${a}" class="nameLink" href="#employeeHeading" data-bs-toggle="modal" data-bs-target="#employeeModal">${o.data[a].lastName}`+" "+`${o.data[a].firstName}</a>`;$("#directoryData").append(t);let l=$(`#searchSquare${a}`);a%4==0?l.css("background-color",e[0]):a%4==1?l.css("background-color",e[1]):a%4==2?l.css("background-color",e[2]):a%4==3&&l.css("background-color",e[3]),$("#verticalAlphabet").hide(),$(`#nameLinkSearch${a}`).on("click",function(){$("#employeeHeading").empty(),$("#employeeHeading").append($(`#nameLinkSearch${a}`).text()),$("#txtFirstName").html(o.data[a].firstName),$("#txtLastName").html(o.data[a].lastName),$("#txtJobTitle").html(o.data[a].jobTitle),$("#txtEmail").html(o.data[a].email),$("#txtDept").html(o.data[a].department),$("#txtLocation").html(o.data[a].location),setTimeout(function(){$("#employeeModal").modal("show")},1e3),$("#edit").on("click",function(){let e,t;$("#employeeModal").modal("hide"),$("#editHeading").empty(),$("#editHeading").append("Edit employee"),$("#txtEditFirstName").val(o.data[a].firstName),$("#txtEditLastName").val(o.data[a].lastName),$("#txtEditJobTitle").val(o.data[a].jobTitle),$("#txtEditEmail").val(o.data[a].email),$.ajax({type:"POST",url:"libs/php/getDepartmentID.php",dataType:"json",data:{employeeDept:o.data[a].department},success:function(o){e=o.data[a].id,$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(t){$(".deptEditSelectList").html(""),$.each(t.data,function(o){$("#txtEditDept").val(e),$(".deptEditSelectList").append($("<option>",{value:t.data[o].id,text:t.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptEditSelectList").on("change",function(){let e=$(this).val();e&&$.ajax({type:"POST",url:"libs/php/getLocationID.php",dataType:"json",data:{employeeDeptID:e},success:function(e){t=e.data[a].locationID,$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locEditSelectList").html(""),$.each(e.data,function(o){$("#txtEditLoc").val(t),$(".locEditSelectList").append($("<option>",{value:e.data[o].id,text:e.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#editEmployeeModal").modal("show")},1e3)}),$("#editForm").submit(function(e){e.preventDefault(),$("#editEmployeeModal").modal("hide"),null===$("#editDept").val()?($("#editErrorMessage").html(""),$("#editErrorMessage").append("Please select a department."),setTimeout(function(){$("#editErrorModal").modal("show")},1e3)):setTimeout(function(){$("#editConfirmModal").modal("show")},1e3)}),$("#editConfirmForm").submit(function(e){e.preventDefault(),$("#editConfirmModal").modal("hide");let t=$("#txtEditFirstName").val();""!==t&&(t=t[0].toUpperCase()+t.substring(1,t.length));let l=$("#txtEditLastName").val();""!==l&&(l=l[0].toUpperCase()+l.substring(1,l.length));let n=$("#txtEditJobTitle").val();""!==n&&(n=n[0].toUpperCase()+n.substring(1,n.length)),$.ajax({url:"libs/php/editEmployee.php",method:"post",dataType:"text",data:{id:o.data[a].id,firstName:t,lastName:l,jobTitle:n,email:$("#txtEditEmail").val(),dept:$("#txtEditDept").val()},success:function(e){$("#editMessage").html(""),$("#editMessage").append(e),setTimeout(function(){$("#editSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}})}),$("#editCancel").on("click",function(){location.reload(),$("#editEmployeeModal").modal("hide")}),$("#editConfirmCancel").on("click",function(){location.reload(),$("#editConfirmModal").modal("hide")}),$("#delete").on("click",function(){$("#employeeModal").modal("hide"),setTimeout(function(){$("#deleteButtonConfirmModal").modal("show")},1e3)}),$("#deleteButtonConfirmForm").submit(function(e){e.preventDefault(),$("#deleteButtonConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/deleteEmployee.php",dataType:"text",data:{lastName:o.data[a].lastName},success:function(e){$("#deleteButtonMessage").html(""),$("#deleteButtonMessage").append(e),setTimeout(function(){$("#deleteButtonSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}})}),$("#deleteButtonConfirmCancel").on("click",function(){location.reload(),$("#deleteButtonConfirmModal").modal("hide")})})}else window.localStorage.setItem("focus_on","#searchBar"),location.reload()})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#department").on("click",function(){departmentArray=[],$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(e){$.each(e.data,function(t){departmentArray.push(e.data[t].name)})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$.ajax({url:"libs/php/getAllByDeptName.php",dataType:"json",data:{},success:function(t){$("#deptMenu").html(""),$("#deptData").html(""),$.each(departmentArray,function(o){let a='<div class="row"><div class="col-sm-1"></div>'+`<div class="col-sm-3" id="dept${o}">${departmentArray[o]}</div>`+"</div>";$("#deptMenu").append(`<a href="#dept${o}" class="vertical"><div class="col-sm-4">${departmentArray[o]}</div></a>`);let l=$("#deptData").append(a);$.each(t.data,function(a){if(t.data[a].department===departmentArray[o]){let o='<div class="row"><div class="col-sm-4"></div><div class="col-sm-2">'+`<div id="deptSquare${a}" class="square"></div>`+'</div><div class="col-sm-5 namePosition">'+`<a id="nameLinkDept${a}" class="nameLink" href="#employeeHeading" data-bs-toggle="modal" data-bs-target="#employeeModal">${t.data[a].lastName}`+" "+`${t.data[a].firstName}</a>`;l.append(o);let n=$(`#deptSquare${a}`);a%4==0?n.css("background-color",e[0]):a%4==1?n.css("background-color",e[1]):a%4==2?n.css("background-color",e[2]):a%4==3&&n.css("background-color",e[3]),setTimeout(function(){$("#deptModal").modal("show")},1e3),$("#deptCancel").on("click",function(){location.reload(),$("#deptModal").modal("hide")}),$(`#nameLinkDept${a}`).on("click",function(){$("#deptModal").modal("hide"),$("#employeeHeading").empty(),$("#employeeHeading").append($(`#nameLinkDept${a}`).text()),$("#txtFirstName").html(t.data[a].firstName),$("#txtLastName").html(t.data[a].lastName),$("#txtJobTitle").html(t.data[a].jobTitle),$("#txtEmail").html(t.data[a].email),$("#txtDept").html(t.data[a].department),$("#txtLocation").html(t.data[a].location),setTimeout(function(){$("#employeeModal").modal("show")},1e3),$("#edit").on("click",function(){let e,o;$("#employeeModal").modal("hide"),$("#editHeading").empty(),$("#editHeading").append("Edit employee"),$("#txtEditFirstName").val(t.data[a].firstName),$("#txtEditLastName").val(t.data[a].lastName),$("#txtEditJobTitle").val(t.data[a].jobTitle),$("#txtEditEmail").val(t.data[a].email),$.ajax({type:"POST",url:"libs/php/getDepartmentID.php",dataType:"json",data:{employeeDept:t.data[a].department},success:function(t){e=t.data[0].id,$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(t){$(".deptEditSelectList").html(""),$.each(t.data,function(o){$("#txtEditDept").val(e),$(".deptEditSelectList").append($("<option>",{value:t.data[o].id,text:t.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptEditSelectList").on("change",function(){let e=$(this).val();e&&$.ajax({type:"POST",url:"libs/php/getLocationID.php",dataType:"json",data:{employeeDeptID:e},success:function(e){o=e.data[0].locationID,$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locEditSelectList").html(""),$.each(e.data,function(t){$("#txtEditLoc").val(o),$(".locEditSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#editEmployeeModal").modal("show")},1e3)}),$("#editCancel").on("click",function(){location.reload(),$("#editEmployeeModal").modal("hide")}),$("#editForm").submit(function(e){e.preventDefault(),$("#editEmployeeModal").modal("hide"),null===$("#editDept").val()?($("#editErrorMessage").html(""),$("#editErrorMessage").append("Please select a department."),setTimeout(function(){$("#editErrorModal").modal("show")},1e3)):setTimeout(function(){$("#editConfirmModal").modal("show")},1e3),$("#editConfirmForm").submit(function(e){e.preventDefault(),$("#editConfirmModal").modal("hide");let o=$("#txtEditFirstName").val();""!==o&&(o=o[0].toUpperCase()+o.substring(1,o.length));let l=$("#txtEditLastName").val();""!==l&&(l=l[0].toUpperCase()+l.substring(1,l.length));let n=$("#txtEditJobTitle").val();""!==n&&(n=n[0].toUpperCase()+n.substring(1,n.length)),console.log(t.data[a].id),$.ajax({url:"libs/php/editEmployee.php",method:"post",dataType:"text",data:{id:t.data[a].id,firstName:o,lastName:l,jobTitle:n,email:$("#txtEditEmail").val(),dept:$("#txtEditDept").val()},success:function(e){$("#editMessage").html(""),$("#editMessage").append(e),setTimeout(function(){$("#editSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}}),$("#editCancel").on("click",function(){location.reload(),$("#editModal").modal("hide")})}),$("#editConfirmCancel").on("click",function(){location.reload(),$("#editConfirmModal").modal("hide")})}),$("#delete").on("click",function(){$("#employeeModal").modal("hide"),setTimeout(function(){$("#deleteButtonConfirmModal").modal("show")},1e3)}),$("#deleteButtonConfirmForm").submit(function(e){e.preventDefault(),$("#deleteButtonConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/deleteEmployee.php",dataType:"text",data:{lastName:t.data[a].lastName},success:function(e){$("#deleteButtonMessage").html(""),$("#deleteButtonMessage").append(e),setTimeout(function(){$("#deleteButtonSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}})}),$("#deleteButtonConfirmCancel").on("click",function(){location.reload(),$("#deleteButtonConfirmModal").modal("hide")})})}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#addDept").on("click",function(){$("#deptModal").modal("hide"),$("#addDeptHeading").html(""),$("#addDeptHeading").append("Add department"),$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locSelectList").html(""),$.each(e.data,function(t){$(".locSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#addDeptModal").modal("show")},1e3)}),$("#addDeptForm").submit(function(e){e.preventDefault(),$("#addDeptModal").modal("hide"),setTimeout(function(){$("#addDeptConfirmModal").modal("show")},1e3)}),$("#addDeptConfirmForm").submit(function(e){e.preventDefault(),$("#addDeptConfirmModal").modal("hide");let t=$("#addDeptName").val();""!==t&&(t=t[0].toUpperCase()+t.substring(1,t.length)),$.ajax({url:"libs/php/addDepartment.php",method:"post",dataType:"text",data:{deptName:t,addDeptLoc:$("#addDeptLoc").val()},success:function(e){$("#addDeptMessage").html(""),$("#addDeptMessage").append(e),setTimeout(function(){$("#deptAddSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#addDeptCancel").on("click",function(){location.reload(),$("#addDeptModal").modal("hide")}),$("#addDeptConfirmCancel").on("click",function(){location.reload(),$("#addDeptConfirmModal").modal("hide")}),$("#deleteDept").on("click",function(){$("#deptAddSuccessModal").modal("hide"),$("#deptModal").modal("hide"),$("#deleteDeptHeading").html(""),$("#deleteDeptHeading").append("Delete department"),$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(e){$(".deptSelectList").html(""),$.each(e.data,function(t){$(".deptSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#deleteDeptModal").modal("show")},1e3)}),$("#deleteDeptForm").submit(function(e){e.preventDefault(),$("#deleteDeptModal").modal("hide"),setTimeout(function(){$("#deleteDeptConfirmModal").modal("show")},1e3)}),$("#deleteDeptConfirmForm").submit(function(e){e.preventDefault(),$("#deleteDeptConfirmModal").modal("hide"),console.log($("#deleteSelectDept").val()),$.ajax({url:"libs/php/deleteDepartmentByID.php",method:"post",dataType:"text",data:{deleteDept:$("#deleteSelectDept").val()},success:function(e){$("#deleteDeptMessage").html(""),$("#deleteDeptMessage").append(e),setTimeout(function(){$("#deptDeleteSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#deleteDeptCancel").on("click",function(){location.reload(),$("#deleteDeptModal").modal("hide")}),$("#deleteDeptConfirmCancel").on("click",function(){location.reload(),$("#deleteDeptConfirmModal").modal("hide")}),$("#deptDeleteSuccessModal").modal("hide"),$("#location").on("click",function(){let t=[];$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$.each(e.data,function(o){t.push(e.data[o].name)})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$.ajax({url:"libs/php/getAllByLocName.php",dataType:"json",data:{},success:function(o){$("#locationMenu").html(""),$("#locationData").html(""),$.each(t,function(a){let l='<div class="row"><div class="col-sm-1"></div>'+`<div class="col-sm-3" id="location${a}">${t[a]}</div>`+"</div>";$("#locationMenu").append(`<a href="#location${a}" class="vertical"><div class="col-sm-4">${t[a]}</div></a>`);let n=$("#locationData").append(l);$.each(o.data,function(l){if(o.data[l].location===t[a]){let t='<div class="row"><div class="col-sm-4"></div><div class="col-sm-2">'+`<div id="locSquare${l}" class="square"></div>`+'</div><div class="col-sm-5 namePosition">'+`<a id="nameLinkLoc${l}" class="nameLink" href="#employeeHeading" data-bs-toggle="modal" data-bs-target="#employeeModal">${o.data[l].lastName}`+" "+`${o.data[l].firstName}</a>`;n.append(t),locSquare=$(`#locSquare${l}`),l%4==0?locSquare.css("background-color",e[0]):l%4==1?locSquare.css("background-color",e[1]):l%4==2?locSquare.css("background-color",e[2]):l%4==3&&locSquare.css("background-color",e[3]),setTimeout(function(){$("#locationModal").modal("show")},1e3),$("#locCancel").on("click",function(){location.reload(),$("#locationModal").modal("hide")}),$(`#nameLinkLoc${l}`).on("click",function(){$("#locationModal").modal("hide"),$("#employeeHeading").empty(),$("#employeeHeading").append($(`#nameLinkLoc${l}`).text()),$("#txtFirstName").html(o.data[l].firstName),$("#txtLastName").html(o.data[l].lastName),$("#txtJobTitle").html(o.data[l].jobTitle),$("#txtEmail").html(o.data[l].email),$("#txtDept").html(o.data[l].department),$("#txtLocation").html(o.data[l].location),setTimeout(function(){$("#employeeModal").modal("show")},1e3),$("#edit").on("click",function(){let e,t
;$("#employeeModal").modal("hide"),$("#editHeading").empty(),$("#editHeading").append("Edit employee"),$("#txtEditFirstName").val(o.data[l].firstName),$("#txtEditLastName").val(o.data[l].lastName),$("#txtEditJobTitle").val(o.data[l].jobTitle),$("#txtEditEmail").val(o.data[l].email),$.ajax({type:"POST",url:"libs/php/getDepartmentID.php",dataType:"json",data:{employeeDept:o.data[l].department},success:function(o){e=o.data[0].id,$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(t){$(".deptEditSelectList").html(""),$.each(t.data,function(o){$("#txtEditDept").val(e),$(".deptEditSelectList").append($("<option>",{value:t.data[o].id,text:t.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptEditSelectList").on("change",function(){let e=$(this).val();e&&$.ajax({type:"POST",url:"libs/php/getLocationID.php",dataType:"json",data:{employeeDeptID:e},success:function(e){t=e.data[0].locationID,$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locEditSelectList").html(""),$.each(e.data,function(o){$("#txtEditLoc").val(t),$(".locEditSelectList").append($("<option>",{value:e.data[o].id,text:e.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#editEmployeeModal").modal("show")},1e3)}),$("#editCancel").on("click",function(){location.reload(),$("#editEmployeeModal").modal("hide")}),$("#editForm").submit(function(e){e.preventDefault(),$("#editEmployeeModal").modal("hide"),null===$("#editDept").val()?($("#editErrorMessage").html(""),$("#editErrorMessage").append("Please select a department."),setTimeout(function(){$("#editErrorModal").modal("show")},1e3)):setTimeout(function(){$("#editConfirmModal").modal("show")},1e3),$("#editConfirmForm").submit(function(e){e.preventDefault(),$("#editConfirmModal").modal("hide");let t=$("#txtEditFirstName").val();""!==t&&(t=t[0].toUpperCase()+t.substring(1,t.length));let a=$("#txtEditLastName").val();""!==a&&(a=a[0].toUpperCase()+a.substring(1,a.length));let n=$("#txtEditJobTitle").val();""!==n&&(n=n[0].toUpperCase()+n.substring(1,n.length)),$.ajax({url:"libs/php/editEmployee.php",method:"post",dataType:"text",data:{id:o.data[l].id,firstName:t,lastName:a,jobTitle:n,email:$("#txtEditEmail").val(),dept:$("#txtEditDept").val()},success:function(e){$("#editMessage").html(""),$("#editMessage").append(e),setTimeout(function(){$("#editSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}}),$("#editCancel").on("click",function(){location.reload(),$("#editModal").modal("hide")})}),$("#editConfirmCancel").on("click",function(){location.reload(),$("#editConfirmModal").modal("hide")})}),$("#delete").on("click",function(){$("#employeeModal").modal("hide"),setTimeout(function(){$("#deleteButtonConfirmModal").modal("show")},1e3)}),$("#deleteButtonConfirmForm").submit(function(e){e.preventDefault(),$("#deleteButtonConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/deleteEmployee.php",dataType:"text",data:{lastName:o.data[l].lastName},success:function(e){$("#deleteButtonMessage").html(""),$("#deleteButtonMessage").append(e),setTimeout(function(){$("#deleteButtonSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)}})}),$("#deleteButtonConfirmCancel").on("click",function(){location.reload(),$("#deleteButtonConfirmModal").modal("hide")})})}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#addLoc").on("click",function(){$("#locationModal").modal("hide"),$("#addLocHeading").html(""),$("#addLocHeading").append("Add location"),setTimeout(function(){$("#addLocModal").modal("show")},1e3)}),$("#addLocForm").submit(function(e){e.preventDefault(),$("#addLocModal").modal("hide"),setTimeout(function(){$("#addLocConfirmModal").modal("show")},1e3)}),$("#addLocConfirmForm").submit(function(e){e.preventDefault(),$("#addLocConfirmModal").modal("hide");let t=$("#addLocName").val();""!==t&&(t=t[0].toUpperCase()+t.substring(1,t.length)),$.ajax({url:"libs/php/addLocation.php",method:"post",dataType:"text",data:{locName:t},success:function(e){$("#addLocMessage").html(""),$("#addLocMessage").append(e),setTimeout(function(){$("#locAddSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#addLocCancel").on("click",function(){location.reload(),$("#addLocModal").modal("hide")}),$("#addLocConfirmCancel").on("click",function(){location.reload(),$("#addLocConfirmModal").modal("hide")}),$("#deleteLoc").on("click",function(){$("#locAddSuccessModal").modal("hide"),$("#locationModal").modal("hide"),$("#deleteLocHeading").html(""),$("#deleteLocHeading").append("Delete location"),$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locSelectList").html(""),$.each(e.data,function(t){$(".locSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#deleteLocModal").modal("show")},1e3)}),$("#deleteLocForm").submit(function(e){e.preventDefault(),$("#deleteLocModal").modal("hide"),setTimeout(function(){$("#deleteLocConfirmModal").modal("show")},1e3)}),$("#deleteLocConfirmForm").submit(function(e){e.preventDefault(),$("#deleteLocConfirmModal").modal("hide"),$.ajax({url:"libs/php/deleteLocationByID.php",method:"post",dataType:"text",data:{deleteLoc:$("#deleteSelectLoc").val()},success:function(e){$("#deleteLocMessage").html(""),$("#deleteLocMessage").append(e),setTimeout(function(){$("#locDeleteSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#deleteLocCancel").on("click",function(){location.reload(),$("#deleteLocModal").modal("hide")}),$("#deleteLocConfirmCancel").on("click",function(){location.reload(),$("#deleteLocConfirmModal").modal("hide")}),$("#locDeleteSuccessModal").modal("hide"),$("#search").on("click",function(){$(this).closest("form").find("input[type=text]").val(""),$("#searchHeading").empty(),$("#searchHeading").append("Search"),$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(e){$(".deptSelectList").html(""),$(".deptSelectList").append("<option selected disabled>Select department</option>"),$.each(e.data,function(t){$(".deptSelectList").append($("<option>",{value:e.data[t].name,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locSelectList").html(""),$(".locSelectList").append('<option selected disabled value="">Select location</option>'),$.each(e.data,function(t){$(".locSelectList").append($("<option>",{value:e.data[t].name,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#searchModal").modal("show")},1e3)}),$("#searchCancel").on("click",function(){location.reload(),$("#searchModal").modal("hide")}),$("#searchForm").submit(function(e){e.preventDefault(),$("#searchModal").modal("hide"),""===$("#searchFirstName").val()&&""===$("#searchLastName").val()&&""===$("#searchJobTitle").val()&&""===$("#searchEmail").val()?($("#searchErrorMessage").html(""),$("#searchErrorMessage").append("Please also type in another field."),setTimeout(function(){$("#searchErrorModal").modal("show")},1e3)):setTimeout(function(){$("#searchConfirmModal").modal("show")},1e3)}),$("#searchConfirmCancel").on("click",function(){location.reload(),$("#searchConfirmModal").modal("hide")}),$("#searchConfirmForm").submit(function(t){$(this).closest("form").find("input[type=text]").val(""),t.preventDefault(),$("#searchConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/searchButton.php",dataType:"json",data:{firstName:$("#searchFirstName").val(),lastName:$("#searchLastName").val(),jobTitle:$("#searchJobTitle").val(),email:$("#searchEmail").val(),department:$("#searchDept").val(),location:$("#searchLoc").val()},success:function(t){if(console.log(t),$("#searchModal").modal("hide"),$("#searchResultsData").html(""),$("#searchResultsHeading").html(""),t.data.length>0){let o;$("#searchResultsHeading").append("Search results"),$.each(t.data,function(a){o='<div class="row"><div class="col-sm-3"></div><div class="col-sm-2">'+`<div id="searchSquare${a}" class="square"></div>`+'</div><div class="col-sm-4 namePosition">'+`<a id="searchNameLink${a}" class="nameLink" href="#employeeHeading" data-bs-toggle="modal" data-bs-target="#employeeModal">${t.data[a].lastName}`+" "+`${t.data[a].firstName}</a>`,$("#searchResultsData").append(o),l=$(`#searchSquare${a}`),a%4==0?l.css("background-color",e[0]):a%4==1?l.css("background-color",e[1]):a%4==2?l.css("background-color",e[2]):a%4==3&&l.css("background-color",e[3]),setTimeout(function(){$("#searchResultsModal").modal("show")},1e3),$(`#searchNameLink${a}`).on("click",function(){$("#searchResultsModal").modal("hide"),$("#employeeHeading").empty(),$("#employeeHeading").append($(`#searchNameLink${a}`).text()),$("#txtFirstName").html(t.data[a].firstName),$("#txtLastName").html(t.data[a].lastName),$("#txtJobTitle").html(t.data[a].jobTitle),$("#txtEmail").html(t.data[a].email),$("#txtDept").html(t.data[a].department),$("#txtLocation").html(t.data[a].location),setTimeout(function(){$("#employeeModal").modal("show")},1e3),$("#edit").on("click",function(){let e,o;$("#employeeModal").modal("hide"),$("#editHeading").empty(),$("#editHeading").append("Edit employee"),$("#txtEditFirstName").val(t.data[a].firstName),$("#txtEditLastName").val(t.data[a].lastName),$("#txtEditJobTitle").val(t.data[a].jobTitle),$("#txtEditEmail").val(t.data[a].email),$.ajax({type:"POST",url:"libs/php/getDepartmentID.php",dataType:"json",data:{employeeDept:t.data[a].department},success:function(t){e=t.data[a].id,$.ajax({type:"POST",url:"libs/php/getAllDepartments.php",dataType:"json",success:function(t){$(".deptEditSelectList").html(""),$.each(t.data,function(o){$("#txtEditDept").val(e),$(".deptEditSelectList").append($("<option>",{value:t.data[o].id,text:t.data[o].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),$(".deptEditSelectList").on("change",function(){let e=$(this).val();e&&$.ajax({type:"POST",url:"libs/php/getLocationID.php",dataType:"json",data:{employeeDeptID:e},success:function(e){o=e.data[a].locationID,$.ajax({type:"POST",url:"libs/php/getAllLocations.php",dataType:"json",success:function(e){$(".locEditSelectList").html(""),$.each(e.data,function(t){$("#txtEditLoc").val(o),$(".locEditSelectList").append($("<option>",{value:e.data[t].id,text:e.data[t].name}))})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}}),setTimeout(function(){$("#editEmployeeModal").modal("show")},1e3)}),$("#editCancel").on("click",function(){location.reload(),$("#editEmployeeModal").modal("hide")}),$("#editForm").submit(function(e){e.preventDefault(),$("#editEmployeeModal").modal("hide"),null===$("#editDept").val()?($("#editErrorMessage").html(""),$("#editErrorMessage").append("Please select a department."),setTimeout(function(){$("#editErrorModal").modal("show")},1e3)):setTimeout(function(){$("#editConfirmModal").modal("show")},1e3),$("#editConfirmForm").submit(function(e){e.preventDefault(),$("#editConfirmModal").modal("hide");let o=$("#txtEditFirstName").val();""!==o&&(o=o[0].toUpperCase()+o.substring(1,o.length));let l=$("#txtEditLastName").val();""!==l&&(l=l[0].toUpperCase()+l.substring(1,l.length));let n=$("#txtEditJobTitle").val();""!==n&&(n=n[0].toUpperCase()+n.substring(1,n.length)),$.ajax({url:"libs/php/editEmployee.php",method:"post",dataType:"text",data:{id:t.data[a].id,firstName:o,lastName:l,jobTitle:n,email:$("#txtEditEmail").val(),dept:$("#txtEditDept").val()},success:function(e){$("#editMessage").html(""),$("#editMessage").append(e),setTimeout(function(){$("#editSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#editConfirmCancel").on("click",function(){location.reload(),$("#editConfirmModal").modal("hide")})})}),$("#delete").on("click",function(){$("#employeeModal").modal("hide"),setTimeout(function(){$("#deleteButtonConfirmModal").modal("show")},1e3)}),$("#deleteButtonConfirmForm").submit(function(e){e.preventDefault(),$("#deleteButtonConfirmModal").modal("hide"),$.ajax({type:"POST",url:"libs/php/deleteEmployee.php",dataType:"text",data:{lastName:t.data[a].lastName},success:function(e){$("#deleteButtonMessage").html(""),$("#deleteButtonMessage").append(e),setTimeout(function(){$("#deleteButtonSuccessModal").modal("show")},1e3),setTimeout(function(){location.reload()},3e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})}),$("#deleteButtonConfirmCancel").on("click",function(){location.reload(),$("#deleteButtonConfirmModal").modal("hide")})})}else $("#searchResultsHeading").append("No matches"),setTimeout(function(){$("#searchResultsModal").modal("show")},1e3)},error:function(e,t,o){console.log("status code: "+e.status),console.log("errorThrown: "+o),console.log("jqXHR.responseText: "+e.responseText)}})})});